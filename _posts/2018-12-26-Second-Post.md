---
title : 2 주차 
---

# SSAFY Start Camp 챗봇 퀘스트 _ SLOTMACHINE BOT
#### 서울_7_김준희, 박병현 https://github.com/zeylanica/chatbot_project

## 1. Specification
구현된 어플리케이션의 주요 기능

1. 사용자의 명령어 분석 기능
  - 사용자의 명령어를 띄어쓰기 단위로 끊어 분석한다.
  - 끊은 명령어는 하나의 리스트에 담긴다. 
  - 리스트의 2번째 공간에는 사용자의 명령어가 담기며, 리스트의 총 길이와 사용자의 명령어로 사용자가 제대로 된 명령을 내렸는지 검사한다.  
2. 파일 입출력 기능
  - 사용자가 유저 등록을 할 때, 해당 사용자의 정보들을 서버 내 txt 파일로 저장한다.
  - 유저 정보는 JSON 형태로 저장되며 사용자의 이름, 포인트, 일일대출한도, 대출 시각 등이 보관된다.
  - 사용자가 게임을 하거나 돈을 빌릴 때 해당 파일을 불러와 플레이 결과를 반영하여 다시 파일에 덮어쓴다.  
3. 슬롯머신 기능
  - 사용자가 슬롯머신을 플레이 할 수 있다.
  - 슬롯머신 자체는 길이가 9개인 리스트로 구현되었다.
  - 슬롯머신을 섞을 때 각 요소를 랜덤하게 섞어, 이후 가장 적은 수의 과일을 찾아 가장 많은 수의 과일로 대체한 후, 다시 섞는다. (확률을 올리기 위함)
  - 슬롯머신의 결과를 분석하여 어느 줄이 연속된 3개의 과일이 있는 지 알아내고, 해당 과일에 대한 배수를 저장한다.
  - 슬롯머신의 결과를 slack 에 이모티콘으로 표시하기 위한 String 을 생성한다.  
4. 슬롯머신을 돌리기 위한 명령어들
  - slot            : 슬롯머신 설명서를 출력한다.
  - slot play 숫자  : <숫자> 만큼 슬롯머신에 돈을 투입한다. 0 이상의 정수 ~ 100 이하 만 투입이 가능하다.
  - slot rank       : 등록된 모든 유저를 포인트 순 내림차순으로 정렬해 보여준다.
  - slot wallet     : 현재 유저가 가진 포인트를 보여준다.
  - slot register   : 유저를 등록한다.
  - slot bid 숫자   : <숫자> 만큼의 돈을 빌린다. 하루 한도는 1000 포인트 이며, 하루가 지날 때 마다 한도가 리셋된다.
  - slot del        : 해당 유저를 삭제한다.

## 2. Retrospective
구현 과정에서의 어려움, 문제점
  - 슬롯머신을 섞는 과정에서 랜덤 함수를 돌리며 확률을 올리기 위한 코딩을 할 때, 제대로 동작하지 않아 어려움이 있엇다.
  - 유저 정보를 위한 자료구조를 만들어 내는 과정에서 생각보다 복잡한 자료구조가 만들어졌다. 따라서 파일 입출력 시 어려움이 있엇다.
  - 시간을 가져올 때의 타임 스탬프가 이해하는 데 너무 오래 걸렸다. 많은 시간을 허비했다.
  
## 3. Feedback
기존 문제점 보완 계획
  - 가끔 슬롯머신이 멘션을 받으면 같은 행동을 두번씩 하는 문제점이 있다. 고쳐야 할 부분이다.
  
## 4. Playing Screenshot
![kakaotalk_20181227_170944050](https://user-images.githubusercontent.com/46038536/50471986-4d9b2d00-09fa-11e9-9c56-4633e1d4b28c.jpg)
